import { getCachedConfig } from "../../services/configService.js";

export const setname = async (sock, m, args) => {
    const name = args.join(" ");
    const config = getCachedConfig();
    const p = config.prefix || "!";

    if (!name) {
        return `â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     ğŸ‘¤ *ğ•Šğ”¼ğ•‹ â„•ğ”¸ğ•„ğ”¼* ğŸ‘¤            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ *ğ•Œğ•¤ğ•’ğ•˜ğ•–:* ${p}setname [name]
ğŸ“Œ *ğ”¼ğ•©ğ•’ğ•ğ•¡ğ•ğ•–:* ${p}setname Tervux Bot

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Update your WhatsApp display name!`;
    }

    try {
        await sock.updateProfileName(name);
        return `â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘    âœ… *â„•ğ”¸ğ•„ğ”¼ ğ•Œâ„™ğ”»ğ”¸ğ•‹ğ”¼ğ”»* âœ…        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘¤ *â„•ğ”¼ğ• â„•ğ”¸ğ•„ğ”¼*
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
${name}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
_Updated by Tervux Bot_ ğŸ¤–`;
    } catch (error) {
        return `â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         âŒ *ğ”¼â„â„ğ•†â„* âŒ            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Failed to update profile name.
Please try again later.`;
    }
};
